{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { getWeatherIconLg } from './getWeatherIconLg';\nimport { useEffect, useState } from 'react';\nexport const GetTempToday = props => {\n  _s();\n  const {\n    latitude,\n    longitude\n  } = props;\n  const apiKey = '31f0270f73eec09e278e668dbaabb991';\n  const url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&lang=zh_cn&units=metric`;\n  const [tempData, setTempData] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await axios.get(url);\n      const data = response.data;\n\n      // 更新状态或处理数据\n      setTempData(data);\n    };\n    fetchData();\n  }, []);\n  const [temp, temp_min, temp_max, humidity, weather, weather_description, weather_icon, wind_speed, temp_feels_like, sun_set, sun_rise] = [tempData.main.temp, tempData.main.temp_min, tempData.main.temp_max, tempData.main.humidity, tempData.weather[0].main, tempData.weather[0].description, tempData.weather[0].icon, tempData.wind.speed, tempData.main.feels_like, tempData.sys.sunset, tempData.sys.sunrise];\n\n  // console.log(temp, temp_min, temp_max, humidity, weather, weather_description, weather_icon, wind_speed, temp_feels_like);\n  // console.log(data);\n  const weatherIconLg = getWeatherIconLg(weather);\n  const getDate = timestamp => {\n    const date = new Date(timestamp * 1000);\n    const formattedDate = date.toISOString().split('T')[0];\n    return formattedDate;\n  };\n  const getTime = timestamp => {\n    const date = new Date(timestamp * 1000);\n    const formattedTime = date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    return formattedTime;\n  };\n  return {\n    'date': getDate(data.dt),\n    'city': data.name,\n    'temp': temp,\n    'minTemp': temp_min,\n    'maxTemp': temp_max,\n    'weather': weather,\n    'weather_description': weather_description,\n    'weather_icon': weather_icon,\n    'weatherIconLg': weatherIconLg,\n    'water': humidity,\n    'wind': wind_speed,\n    'temp_feels_like': temp_feels_like,\n    'sun_set': getTime(sun_set),\n    'sun_rise': getTime(sun_rise)\n  };\n};\n\n// \"today\": {\n//     \"date\": \"2024-03-20\",\n//     \"city\": \"Melbourne\",\n//     \"weather\": \"Cloudy\",\n//     \"water\": 85,\n//     \"wind\": 9,\n//     \"sun\": 75,\n//     \"minTemp\": 10,\n//     \"maxTemp\": 20\n// },\n_s(GetTempToday, \"rKusL2ttBkXGq1ArNq60b3fz5ns=\");\n_c = GetTempToday;\nvar _c;\n$RefreshReg$(_c, \"GetTempToday\");","map":{"version":3,"names":["axios","getWeatherIconLg","useEffect","useState","GetTempToday","props","_s","latitude","longitude","apiKey","url","tempData","setTempData","fetchData","response","get","data","temp","temp_min","temp_max","humidity","weather","weather_description","weather_icon","wind_speed","temp_feels_like","sun_set","sun_rise","main","description","icon","wind","speed","feels_like","sys","sunset","sunrise","weatherIconLg","getDate","timestamp","date","Date","formattedDate","toISOString","split","getTime","formattedTime","toLocaleTimeString","hour","minute","dt","name","_c","$RefreshReg$"],"sources":["/Users/chrisdavis/Desktop/coding/web-learning/codes/1-fullstackwebdev/weatherapp/weatherapp/src/utils/getTempToday.jsx"],"sourcesContent":["import axios from 'axios';\nimport { getWeatherIconLg } from './getWeatherIconLg';\nimport { useEffect, useState } from 'react';\nexport const GetTempToday = (props) => {\n    const { latitude, longitude } = props;\n    const apiKey = '31f0270f73eec09e278e668dbaabb991';\n    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&lang=zh_cn&units=metric`;\n    const [tempData, setTempData] = useState(null);\n    useEffect(() => {\n        const fetchData = async () => {\n            const response = await axios.get(url);\n            const data = response.data;\n\n            // 更新状态或处理数据\n            setTempData(data);\n        }\n        fetchData();\n    }, []);\n\n    const [\n        temp,\n        temp_min,\n        temp_max,\n        humidity,\n        weather,\n        weather_description,\n        weather_icon,\n        wind_speed,\n        temp_feels_like,\n        sun_set,\n        sun_rise\n    ] = [\n            tempData.main.temp,\n            tempData.main.temp_min,\n            tempData.main.temp_max,\n            tempData.main.humidity,\n            tempData.weather[0].main,\n            tempData.weather[0].description,\n            tempData.weather[0].icon,\n            tempData.wind.speed,\n            tempData.main.feels_like,\n            tempData.sys.sunset,\n            tempData.sys.sunrise\n        ];\n\n    // console.log(temp, temp_min, temp_max, humidity, weather, weather_description, weather_icon, wind_speed, temp_feels_like);\n    // console.log(data);\n    const weatherIconLg = getWeatherIconLg(weather);\n\n    const getDate = (timestamp) => {\n        const date = new Date(timestamp * 1000);\n        const formattedDate = date.toISOString().split('T')[0];\n        return formattedDate;\n    }\n\n    const getTime = (timestamp) => {\n        const date = new Date(timestamp * 1000);\n        const formattedTime = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n        return formattedTime;\n    }\n\n    return {\n        'date': getDate(data.dt),\n        'city': data.name,\n        'temp': temp,\n        'minTemp': temp_min,\n        'maxTemp': temp_max,\n        'weather': weather,\n        'weather_description': weather_description,\n        'weather_icon': weather_icon,\n        'weatherIconLg': weatherIconLg,\n        'water': humidity,\n        'wind': wind_speed,\n        'temp_feels_like': temp_feels_like,\n        'sun_set': getTime(sun_set),\n        'sun_rise': getTime(sun_rise)\n    };\n};\n\n// \"today\": {\n//     \"date\": \"2024-03-20\",\n//     \"city\": \"Melbourne\",\n//     \"weather\": \"Cloudy\",\n//     \"water\": 85,\n//     \"wind\": 9,\n//     \"sun\": 75,\n//     \"minTemp\": 10,\n//     \"maxTemp\": 20\n// },"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}